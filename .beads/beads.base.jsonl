{"id":"bujo-pdf-5po","content_hash":"2346bec67a17cf592fc256502a2717c6d35a3c42991e90f069946931995c0118","title":"Refactor weekly page daily section to use WeekGrid","description":"Update lib/bujo_pdf/pages/weekly_page.rb:\n- Replace manual 7-column calculation with WeekGrid\n- Use cell_callback for rendering daily cells\n- Ensure quantized columns align with dot grid\n\nPart of Plan #22 Phase 3","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-13T16:21:15.44189811-05:00","updated_at":"2025-11-13T17:58:02.555946133-05:00","closed_at":"2025-11-13T17:58:02.555946133-05:00","source_repo":".","labels":["plan-22","refactoring"],"dependencies":[{"issue_id":"bujo-pdf-5po","depends_on_id":"bujo-pdf-hu8","type":"blocks","created_at":"2025-11-13T16:22:17.002281946-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-am1","content_hash":"790ca96abd7402210ace45f29620be107e9f61bb9ec7d195b7e18b4f5af0909c","title":"Implement quantization width calculation logic","description":"Add calculate_column_widths method to WeekGrid:\n- When quantize: true and width divisible by 7 boxes → equal box widths\n- Otherwise → proportional division of available space\n- Return array of 7 column widths\n\nPart of Plan #22 Phase 1","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T16:20:55.140295939-05:00","updated_at":"2025-11-13T16:33:51.09411414-05:00","closed_at":"2025-11-13T16:33:51.09411414-05:00","source_repo":".","labels":["component","plan-22"],"dependencies":[{"issue_id":"bujo-pdf-am1","depends_on_id":"bujo-pdf-dkq","type":"blocks","created_at":"2025-11-13T16:22:16.472394728-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-ayc","content_hash":"8c958a94aa95c39913b4acd700f1aba3e866b5ad933800e46de7342a0613fe34","title":"Refactor year-at-a-glance pages to use WeekGrid","description":"Update year_events.rb and year_highlights.rb:\n- Use WeekGrid for weekday header row\n- Maintain quantized column widths for visual consistency\n- Update day cell positioning to use grid.cell_rect()\n\nPart of Plan #22 Phase 3","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-13T16:21:13.389098472-05:00","updated_at":"2025-11-13T16:21:13.389098472-05:00","source_repo":".","labels":["plan-22","refactoring"],"dependencies":[{"issue_id":"bujo-pdf-ayc","depends_on_id":"bujo-pdf-hu8","type":"blocks","created_at":"2025-11-13T16:22:16.991714756-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-ddv","content_hash":"4b7bd44f971ba6b20cd9ee8184dbaeea38da88655b8b7212817459e38142f916","title":"Write WeekGrid unit tests","description":"Create comprehensive tests for WeekGrid:\n- Width calculation edge cases (divisible by 7, not divisible, zero/negative)\n- Quantize true vs false behavior\n- Cell positioning accuracy\n- Different first_day values\n- Header rendering with/without show_headers\n\nPart of Plan #22 Phase 1","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-13T16:21:08.098172293-05:00","updated_at":"2025-11-13T16:39:01.975636065-05:00","closed_at":"2025-11-13T16:39:01.975636065-05:00","source_repo":".","labels":["plan-22","testing"],"dependencies":[{"issue_id":"bujo-pdf-ddv","depends_on_id":"bujo-pdf-am1","type":"blocks","created_at":"2025-11-13T16:22:16.666033213-05:00","created_by":"daemon"},{"issue_id":"bujo-pdf-ddv","depends_on_id":"bujo-pdf-fjh","type":"blocks","created_at":"2025-11-13T16:22:16.677928029-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-dkq","content_hash":"f39ac2060c46387b38e492a450d83b0c611116f1e27943adb20b14e91f0f63fc","title":"Create WeekGrid component class with basic structure","description":"Create lib/bujo_pdf/components/week_grid.rb with:\n- Component class skeleton\n- Constructor accepting pdf, x, y, width, height, quantize, first_day, show_headers, header_height, cell_callback\n- Basic parameter validation\n\nPart of Plan #22 Phase 1","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T16:20:51.310329042-05:00","updated_at":"2025-11-13T16:26:48.324600074-05:00","closed_at":"2025-11-13T16:26:48.324600074-05:00","source_repo":".","labels":["component","plan-22"]}
{"id":"bujo-pdf-fjh","content_hash":"2b812d45bd3b67eb0cb8d50c09740b0033c93735bf9f33b0dd17183aeb90cc22","title":"Implement WeekGrid rendering methods","description":"Add to WeekGrid:\n- render() - main rendering orchestration\n- draw_headers() - weekday labels (M/T/W/T/F/S/S)\n- draw_column_dividers() - vertical lines between days\n- render_cells() - invoke cell_callback for each cell\n- cell_rect(day_index) - calculate cell boundaries\n- each_cell() - iterator yielding day_index and rect\n\nPart of Plan #22 Phase 1","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T16:21:00.975034722-05:00","updated_at":"2025-11-13T16:33:51.105900764-05:00","closed_at":"2025-11-13T16:33:51.105900764-05:00","source_repo":".","labels":["component","plan-22"],"dependencies":[{"issue_id":"bujo-pdf-fjh","depends_on_id":"bujo-pdf-dkq","type":"blocks","created_at":"2025-11-13T16:22:16.567039352-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-ft8","content_hash":"664c6c602014dcd38ed273493fc5e17fe31169589ea8c363fddb3e69f85ffb6e","title":"Add layout helper meta-components for margins, columns, rows","description":"Create meta-components that help with common layout calculations:\n\n- **Margins**: Inset content by N boxes on each side\n- **Columns**: Split a region into N equal columns (box-quantized)\n- **Rows**: Split a region into N equal rows (box-quantized)\n\nThese would be calculation helpers rather than rendering components,\nreturning bounds that other components can use.\n\nExample usage ideas:\n```ruby\n# Get inset bounds\ninner = margins(col, row, width, height, left: 2, right: 2)\n\n# Split into quantized columns\ncols = columns(col, row, width, height, count: 3, gap: 1)\ncols.each { |c| ruled_lines(c.col, c.row, c.width, c.height) }\n\n# Split into quantized rows\nrows = rows(col, row, width, height, count: 4, gap: 1)\n```\n\nDiscovered while building RuledLines component - the old SubComponent::RuledLines\nhad margin support that was removed for simplicity. These meta-components would\nprovide a cleaner, composable approach.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-29T17:41:27.200756891-05:00","updated_at":"2025-11-29T17:41:27.200756891-05:00","source_repo":"."}
{"id":"bujo-pdf-fuo","content_hash":"e1ed2025bfc61dd98a90e47f6bc84bdac38d0c28317c32c9947fecc93c36ddc0","title":"Update CLAUDE.md with WeekGrid component documentation","description":"Add WeekGrid section to CLAUDE.md:\n- Component overview and key features\n- Usage examples\n- Parameter documentation\n- Integration with grid system\n\nPart of Plan #22 Phase 2","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-13T16:21:18.060934895-05:00","updated_at":"2025-11-13T19:05:41.700972213-05:00","closed_at":"2025-11-13T19:05:41.700972213-05:00","source_repo":".","labels":["documentation","plan-22"],"dependencies":[{"issue_id":"bujo-pdf-fuo","depends_on_id":"bujo-pdf-hu8","type":"blocks","created_at":"2025-11-13T16:22:16.874131381-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-hu8","content_hash":"cf0f59ec6551594c8ceee77d2547ad62e34f7229853593e939de6f05d120cc65","title":"Add grid system integration for WeekGrid","description":"Integrate WeekGrid with existing grid system:\n- Add WeekGrid.from_grid() constructor accepting col, row, width_boxes, height_boxes\n- Add week_grid() helper to lib/bujo_pdf/utilities/grid_system.rb\n- Ensure component works with grid coordinate system\n\nPart of Plan #22 Phase 2","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-13T16:21:03.160580462-05:00","updated_at":"2025-11-13T16:40:18.430726146-05:00","closed_at":"2025-11-13T16:40:18.430726146-05:00","source_repo":".","labels":["grid-system","plan-22"],"dependencies":[{"issue_id":"bujo-pdf-hu8","depends_on_id":"bujo-pdf-ddv","type":"blocks","created_at":"2025-11-13T16:22:16.775556038-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-itj","content_hash":"71317db09aee8a35909711dd2e4f78f2007134f3967ef96379ad29ff9929f018","title":"Add WeekGrid example to CLAUDE.local.md","description":"Add WeekGrid usage pattern to Common Layout Patterns section in CLAUDE.local.md:\n- Show quantized week grid example\n- Demonstrate each_cell iteration pattern\n- Include rect structure documentation\n\nPart of Plan #22 Phase 2","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-13T16:21:25.224313761-05:00","updated_at":"2025-11-13T19:05:41.713756988-05:00","closed_at":"2025-11-13T19:05:41.713756988-05:00","source_repo":".","labels":["documentation","plan-22"],"dependencies":[{"issue_id":"bujo-pdf-itj","depends_on_id":"bujo-pdf-hu8","type":"blocks","created_at":"2025-11-13T16:22:16.883949664-05:00","created_by":"daemon"}]}
{"id":"bujo-pdf-ldq","content_hash":"959e66e754a2edb63f0ae359a63b6fdb9da0f18b61611cbe3766d9b8d5f8151b","title":"Refactor seasonal calendar to use WeekGrid","description":"Replace manual mini-month column calculation in lib/bujo_pdf/pages/seasonal_calendar.rb:\n- Use WeekGrid for weekday columns\n- Set quantize: true for grid alignment\n- Update render_mini_month to use grid.each_cell pattern\n\nPart of Plan #22 Phase 3","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-13T16:21:10.104311073-05:00","updated_at":"2025-11-13T16:21:10.104311073-05:00","source_repo":".","labels":["plan-22","refactoring"],"dependencies":[{"issue_id":"bujo-pdf-ldq","depends_on_id":"bujo-pdf-hu8","type":"blocks","created_at":"2025-11-13T16:22:16.981916969-05:00","created_by":"daemon"}]}
